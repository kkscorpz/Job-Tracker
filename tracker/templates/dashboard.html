{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Application Tracker</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <style>
      /* Delete Button */
      .delete-card {
        position: absolute;
        top: -15px;
        right: -15px;
        background-color: #0d4715;
        color: white;
        border: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        z-index: 10;
        opacity: 0;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
      }

      .app-card:hover .delete-card {
        opacity: 1;
      }

      .delete-card:hover {
        background-color: #1b5e20;
        transform: scale(1.15);
      }
    </style>
  </head>
  <body>
    {% include "navbar.html" %}

    <!-- Main Content -->
    <main class="main-content">
      <div class="dashboard-container">
        <!-- Calendar Section -->
        <section class="calendar-section">
          <h1 class="dashboard-title">DASHBOARD</h1>
          <div class="calendar-wrapper">
            <div class="calendar-header">
              <h2>January 2026</h2>
            </div>
            <div class="calendar-days-header">
              <div class="day-name">Sunday</div>
              <div class="day-name">Monday</div>
              <div class="day-name">Tuesday</div>
              <div class="day-name">Wednesday</div>
              <div class="day-name">Thursday</div>
              <div class="day-name">Friday</div>
              <div class="day-name saturday">Saturday</div>
            </div>
            <div class="calendar-grid">
              <div class="calendar-cell empty"></div>
              <div class="calendar-cell empty"></div>
              <div class="calendar-cell empty"></div>
              <div class="calendar-cell">1</div>
              <div class="calendar-cell">2</div>
              <div class="calendar-cell">3</div>
              <div class="calendar-cell saturday">4</div>
              <div class="calendar-cell">5</div>
              <div class="calendar-cell">6</div>
              <div class="calendar-cell">7</div>
              <div class="calendar-cell">8</div>
              <div class="calendar-cell">9</div>
              <div class="calendar-cell">10</div>
              <div class="calendar-cell saturday">11</div>
              <div class="calendar-cell">12</div>
              <div class="calendar-cell">13</div>
              <div class="calendar-cell">14</div>
              <div class="calendar-cell">15</div>
              <div class="calendar-cell">16</div>
              <div class="calendar-cell">17</div>
              <div class="calendar-cell saturday">18</div>
              <div class="calendar-cell">19</div>
              <div class="calendar-cell">20</div>
              <div class="calendar-cell">21</div>
              <div class="calendar-cell">22</div>
              <div class="calendar-cell">23</div>
              <div class="calendar-cell">24</div>
              <div class="calendar-cell saturday">25</div>
              <div class="calendar-cell">26</div>
              <div class="calendar-cell">27</div>
              <div class="calendar-cell">28</div>
              <div class="calendar-cell">29</div>
              <div class="calendar-cell">30</div>
              <div class="calendar-cell">31</div>
              <div class="calendar-cell saturday empty"></div>
            </div>
          </div>
        </section>

        <!-- Applications Sidebar -->
        <aside class="applications-sidebar">
          <button class="add-button" onclick="openModal()">
            <i class="fa-solid fa-plus"></i>
          </button>
          <div class="application-cards" id="applicationCards">
            <!-- Cards will be dynamically generated -->
          </div>
        </aside>
      </div>
    </main>

    <!-- Modal -->
    <div id="addAppModal" class="modal-overlay">
      <div class="modal-container">
        <button class="modal-close" onclick="closeModal()">Ã—</button>
        <div class="modal-content">
          <div class="form-section">
            <h2 class="modal-title">Add Application</h2>
            <form id="applicationForm">
              <div class="form-group">
                <label for="companyName">Company Name</label>
                <input
                  type="text"
                  id="companyName"
                  name="companyName"
                  required
                />
              </div>
              <div class="form-group">
                <label for="jobTitle">Job Title</label>
                <input type="text" id="jobTitle" name="jobTitle" required />
              </div>
              <div class="form-row">
                <div class="form-group half">
                  <label for="applicationDate">Application Date</label>
                  <input
                    type="date"
                    id="applicationDate"
                    name="applicationDate"
                    required
                  />
                </div>
                <div class="form-group half">
                  <label for="method">Method</label>
                  <input
                    type="text"
                    id="method"
                    name="method"
                    placeholder="e.g., Online, Email"
                  />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group half">
                  <label for="contactInfo">Contact Information</label>
                  <input type="text" id="contactInfo" name="contactInfo" />
                </div>
                <div class="form-group half">
                  <label for="status">Status</label>
                  <select id="status" name="status">
                    <option value="Applied">Applied</option>
                    <option value="Interview">Interview</option>
                    <option value="Offer">Offer</option>
                    <option value="Rejected">Rejected</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" />
              </div>
              <div class="form-actions">
                <button type="button" class="btn-cancel" onclick="closeModal()">
                  Cancel
                </button>
                <button type="submit" class="btn-submit">
                  Save Application
                </button>
              </div>
            </form>
          </div>
          <div class="notes-section">
            <label for="notes">Notes</label>
            <textarea
              id="notes"
              name="notes"
              placeholder="Add any additional notes here..."
            ></textarea>
          </div>
        </div>
      </div>
    </div>

    <script src="{% static 'dashboard.js' %}"></script>
  </body>
</html>
